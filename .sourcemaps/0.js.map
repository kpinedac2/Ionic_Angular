{"version":3,"sources":["../../src/pages/venta-producto/venta-producto.module.ts","../../src/pages/venta-producto/venta-producto.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VentaProductoPage } from './venta-producto';\n\n@NgModule({\n  declarations: [\n    VentaProductoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VentaProductoPage),\n  ],\n})\nexport class VentaProductoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/venta-producto/venta-producto.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { UsuariosProvider } from '../../providers/usuarios/usuarios';\nimport { ClientesProvider } from '../../providers/clientes/clientes';\nimport { VentaProvider } from '../../providers/venta/venta';\nimport { FacturaProvider } from '../../providers/factura/factura';\nimport { VentadetalleProvider } from '../../providers/ventadetalle/ventadetalle';\nimport { ProductosProvider } from '../../providers/productos/productos';\n\n/**\n * Generated class for the VentaProductoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-venta-producto',\n  templateUrl: 'venta-producto.html',\n})\nexport class VentaProductoPage {\n\n  venta = {\n    Ventas_Fecha: '',\n    Ventas_Usuario: 1,\n    Ventas_Cliente: 0,\n    Ventas_Total: 0\n  }\n\n  ventay = {\n    Ventas_Id: 0,\n    Ventas_Fecha: '',\n    Ventas_Usuario: 1,\n    Ventas_Cliente: 0,\n    Ventas_Total: 0\n  }\n\n  ventaz= {\n    Ventas_Id: 0,\n    Ventas_Fecha: '',\n    Ventas_Usuario: 1,\n    Ventas_Cliente: 0,\n    Ventas_Total: 0\n  }\n\n  venta_detalle = {\n    VentaDetalle_Ventas: 0,\n    VentaDetalle_Producto: 1,\n    VentaDetalle_Cantidad: 1\n  }\n\n  factura = {\n    Factura_Serie: 'A',\n    Factura_Venta: 0,\n    Factura_Cliente: 0\n  }\n\n  total = {\n    total: 0,\n  }\n\n  usuarios:any;\n  clientes:any;\n  show: boolean = true;\n  ventas_detalle:any;\n  productos: any;\n  totalx:number;\n  obje:any \n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public usuarioProvider:UsuariosProvider,\n    public clientesProvider: ClientesProvider,\n    public ventaProvider:VentaProvider,\n    public facturaProvider:FacturaProvider,\n    public ventadetalleProvider:VentadetalleProvider,\n    public productosProvider:ProductosProvider\n  ) {\n  this.getClientes();\n  this.getUsuarios();\n  this.getProductos();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VentaProductoPage');\n  }\n\n  getUsuarios() {\n    this.usuarioProvider.getUsuarios()\n    .then(data => {\n    this.usuarios = data;\n    console.log(this.usuarios);\n    });\n  }\n\n  getClientes() {\n    this.clientesProvider.getClientes()\n    .then(data => {\n    this.clientes = data;\n    console.log(this.clientes);\n    });\n  }\n  \n  setVentaDatos(){\n    localStorage.setItem(\"venta\",JSON.stringify(this.venta));\n    this.ventaProvider.addVenta(this.venta).then((result) => { \n      this.ventay = JSON.parse(JSON.stringify(result));\n\n      this.factura.Factura_Venta = this.ventay.Ventas_Id;\n      this.factura.Factura_Cliente = this.ventay.Ventas_Cliente;\n\n      this.facturaProvider.addFactura(this.factura).then((result) => { \n\n        localStorage.setItem(\"ventasy\",JSON.stringify(this.ventay));\n        localStorage.setItem(\"factura\",JSON.stringify(result));\n        console.log('tudo bem');\n\n      }, (err) => { \n      console.log(err); \n      }); \n\n       }, (err) => { \n       console.log(err); \n       }); \n  }\n\n  getDetalle(date:string, id:number){\n    this.ventadetalleProvider.getVentaDetalles(date,id)\n    .then(data => {\n    this.ventas_detalle = JSON.parse(JSON.stringify(data));\n    console.log(this.ventas_detalle);\n    });\n  }\n\n  saveVentaDetalle(){\n    this.ventay = JSON.parse(localStorage.getItem(\"ventasy\"));\n    this.venta_detalle.VentaDetalle_Ventas = this.ventay.Ventas_Id;\n\n    this.ventadetalleProvider.addVentaDetalle(this.venta_detalle).then((result) => {\n      this.getDetalle(this.ventay.Ventas_Fecha,this.ventay.Ventas_Id);\n      console.log(this.totalx);\n    }, (err)=>{\n\n    });\n  }\n\n  getProductos() {\n    this.productosProvider.getProductos()\n    .then(data => {\n    this.productos = data;\n    console.log(this.productos);\n    });\n  }\n\n  getTotal(){\n    this.ventaz = JSON.parse(localStorage.getItem(\"ventasy\"));\n    console.log(this.ventaz);\n    this.ventadetalleProvider.getTotal(this.ventaz.Ventas_Id)\n    .then(data => {\n      \n      this.obje = data;\n      this.ventaz.Ventas_Total = parseFloat(this.obje);\n\n      console.log(this.ventaz.Ventas_Total);\n      \n       this.ventaProvider.updateVenta(this.ventaz.Ventas_Id,this.ventaz).then((result) => { \n        console.log(result); \n        }, (err) => { \n        console.log(err); \n        }); \n\n    }); \n  }\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/venta-producto/venta-producto.ts"],"sourceRoot":""}